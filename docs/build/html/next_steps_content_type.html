
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Next Steps Flow Content Type &#8212; ILAO Sprint 124 documentation</title>
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../html/_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../build/html/_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Next Steps User Entity" href="next_steps_entity_type.html" />
    <link rel="prev" title="Next Steps Flows" href="next_steps.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="next_steps_entity_type.html" title="Next Steps User Entity"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="next_steps.html" title="Next Steps Flows"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ILAO Sprint 124 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="next_steps.html" accesskey="U">Next Steps Flows</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Next Steps Flow Content Type</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="next-steps-flow-content-type">
<h1>Next Steps Flow Content Type<a class="headerlink" href="#next-steps-flow-content-type" title="Permalink to this headline">¶</a></h1>
<p>The Next Steps Flow content type is where ILAO staff can create a specific flow for a specific Legal How-to. This can then be used to send scheduled follow-up messages.</p>
<p>A Next Steps Flow must be attached to a single Legal How-to. Once the Legal How-to is selected, a staff member can create messages attached to 1 or more steps associated with that Legal How-to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Legacy “How-to” content can not be used for this. Only COPE-based Legal How-to’s can be used.</p>
</div>
<div class="section" id="creating-a-next-steps-flow">
<h2>Creating a Next Steps Flow<a class="headerlink" href="#creating-a-next-steps-flow" title="Permalink to this headline">¶</a></h2>
<p>For each next step flow, you must:</p>
<ul class="simple">
<li><p>Give the flow a title. This title should reflect the how-to; it will be displayed in widgets partners use to subscribe people to NextSteps.</p></li>
<li><p>Tie the flow to an LSC problem code. This is required to align with OTIS partners’ systems</p></li>
<li><p>Attach the appropriate Legal How-to</p></li>
</ul>
<img alt="_images/nextsteps_header.png" src="_images/nextsteps_header.png" />
</div>
<div class="section" id="create-the-first-message">
<h2>Create the first message<a class="headerlink" href="#create-the-first-message" title="Permalink to this headline">¶</a></h2>
<p>Once the Legal How-to is attached, the Step dropdown will populate with the list of steps. Always start the flow with the first step.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The component is triggered when the system is told the user has BEEN ADIVISED TO COMPLETE the step.</p>
</div>
<p>To create the message:</p>
<ul class="simple">
<li><p>Pick the step</p></li>
<li><p>Create a short message. Ideally, messages should be less than 160 characters but can not be more than 1600.</p></li>
<li><p>Select the message type:</p>
<ul>
<li><p>Send and wait for reply - this tells the system to expect a reply from the individual. You’ll need to then add replies.</p></li>
<li><p>Send, no reply - this tells the system to ignore any replies as we don’t expect them. This is typically used only on the last step.</p></li>
</ul>
</li>
</ul>
<img alt="_images/next-step-component.png" src="_images/next-step-component.png" />
</div>
<div class="section" id="add-replies">
<h2>Add replies<a class="headerlink" href="#add-replies" title="Permalink to this headline">¶</a></h2>
<p>If your message has a message type of “Send and wait for reply,” you must add reply handlers. Reply handlers are limited to processing replies of:</p>
<ul class="simple">
<li><p>Yes (will also handle various ways someone may reply Yes, such as Y, Yep, yeah)</p></li>
<li><p>No (will also handle various ways someone may reply No, such as N, nope, not)</p></li>
<li><p>No match, for cases where someone replies with something the system can’t handle</p></li>
<li><p>No reply, for cases where someone was sent a message but does not reply within Twilio’s time out.</p></li>
</ul>
<p>For each reply:</p>
<ul class="simple">
<li><p>Creata a follow-up message. For example, if a user replies No, you might want to reassure them, remind them of the next step, and schedule another reminder.</p></li>
<li><p>Attach the text of a legal step or legal question(s). For example, if someone has not yet appealed their TANF denial, you might want to remind them how to do so by including that step in the message. Or maybe you want to remind them of the TANF eligibility requirements by including that legal question</p></li>
<li><p>Schedule when to send the message; 99% of the time, this should be set to immediately.</p></li>
<li><p>Indicate if this is the last step in the flow.</p></li>
<li><p>Schedule a next step follow up:</p>
<ul>
<li><p>Pick the step to follow up with next (this can be the current step or a future step)</p></li>
<li><p>Schedule when to send the follow up message, in days.</p></li>
<li><p>Set a maximum number of times to resend the reply follow up.</p></li>
</ul>
</li>
<li><p>Repeat for each type of reply the system needs to handle.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because steps and questions can be included by reference, the Next Step Flow will automatically update to send the most current version.</p>
</div>
<img alt="_images/next-step-replies-add.png" src="_images/next-step-replies-add.png" />
</div>
<div class="section" id="additional-steps">
<h2>Additional Steps<a class="headerlink" href="#additional-steps" title="Permalink to this headline">¶</a></h2>
<p>Repeat the “Create the first message” and “Add Replies” for each step in the flow. When you add the last step, set the Is last step to Yes.</p>
</div>
<div class="section" id="example-flow">
<h2>Example Flow<a class="headerlink" href="#example-flow" title="Permalink to this headline">¶</a></h2>
<img alt="_images/next-step-flow-edit.png" src="_images/next-step-flow-edit.png" />
<p>For example, in the above example, the step “Pre-appeal conference for TANF appeal” will be triggered:</p>
<ul class="simple">
<li><p>immediately, if a caseworker selects Pre-appeal conference for TANF appeal in LegalServer</p></li>
<li><p>7 days after an individual receives the File an appeal for TANF benefits and replies Yes</p></li>
<li><p>7 days after an individual recieves the Pre-appeal conference for TANF appeal and replies No, up to two times</p></li>
</ul>
</div>
<div class="section" id="maximum-retries">
<h2>Maximum retries<a class="headerlink" href="#maximum-retries" title="Permalink to this headline">¶</a></h2>
<p>Each step with a send with reply option must have a maximum number of times to retry so we are not continually leaving flows open and sending messages to individuals.</p>
<p>In the Example case:</p>
<ul class="simple">
<li><p>If a user replies No to Pre-appeal conference message, the question will resend in 7 days. If the user replies No again, it will send one more time in 7 days. If the user still replies No, it will stop sending further messages.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If someone replies “Stop” to a text message, they will be unsubscribed and will not receive additional messagss.</p>
</div>
</div>
<div class="section" id="technical-specifications">
<h2>Technical Specifications<a class="headerlink" href="#technical-specifications" title="Permalink to this headline">¶</a></h2>
<div class="section" id="next-flow-content-type">
<h3>Next Flow Content Type<a class="headerlink" href="#next-flow-content-type" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 40%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Title</p></td>
<td><p>Title for the flow</p></td>
<td><p>Title</p></td>
</tr>
<tr class="row-odd"><td><p>Legal How-to</p></td>
<td><p>Single select for the associated
legal how-to content type</p></td>
<td><p>Entity reference</p></td>
</tr>
<tr class="row-even"><td><p>Next Step Component</p></td>
<td><p>Container for a specific next
step</p></td>
<td><p>Paragraphs;
unlimited</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="next-step-component">
<h3>Next Step Component<a class="headerlink" href="#next-step-component" title="Permalink to this headline">¶</a></h3>
<p>The next step component contains the triggering step, initial message and handling for replies.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 40%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Step</p></td>
<td><p>Single select for the associated
steps in the how-to</p></td>
<td><p>Entity reference</p></td>
</tr>
<tr class="row-odd"><td><p>Initial message</p></td>
<td><p>Message to send when triggered</p></td>
<td><p>Paired Markup
unlimited</p></td>
</tr>
<tr class="row-even"><td><p>Message type</p></td>
<td><p>Single select - Message and wait
for reply OR message</p></td>
<td><p>Select</p></td>
</tr>
<tr class="row-odd"><td><p>Replies</p></td>
<td><p>Container for processing replies</p></td>
<td><p>Paragraphs;
unlimited</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="replies">
<h3>Replies<a class="headerlink" href="#replies" title="Permalink to this headline">¶</a></h3>
<p>Replies live within the Next Step Component and are designed to store information for processing a reply and determining next steps.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 40%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>When the user replies</p></td>
<td><p>Single select</p></td>
<td><p>Term reference</p></td>
</tr>
<tr class="row-odd"><td><p>Send this message</p></td>
<td><p>Text of follow up</p></td>
<td><p>Paired markup</p></td>
</tr>
<tr class="row-even"><td><p>Send message</p></td>
<td><p>Single select (immediately or
time from trigger or no reply)</p></td>
<td><p>List</p></td>
</tr>
<tr class="row-odd"><td><p>Time from reply</p></td>
<td><p>Number of days to send when
Send message is set time</p></td>
<td><p>Number</p></td>
</tr>
<tr class="row-even"><td><p>Last step</p></td>
<td><p>Indicate if this is the last
or not</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p>Next follow up step</p></td>
<td><p>Single select of availalbe
steps</p></td>
<td><p>Entity reference</p></td>
</tr>
<tr class="row-even"><td><p>Send follow-up step in</p></td>
<td><p>Number of days to send follow
up step</p></td>
<td><p>Number</p></td>
</tr>
<tr class="row-odd"><td><p>Maximum re-sends</p></td>
<td><p>Maximum times we should send
a specific initial message</p></td>
<td><p>Number</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Next Steps Flow Content Type</a><ul>
<li><a class="reference internal" href="#creating-a-next-steps-flow">Creating a Next Steps Flow</a></li>
<li><a class="reference internal" href="#create-the-first-message">Create the first message</a></li>
<li><a class="reference internal" href="#add-replies">Add replies</a></li>
<li><a class="reference internal" href="#additional-steps">Additional Steps</a></li>
<li><a class="reference internal" href="#example-flow">Example Flow</a></li>
<li><a class="reference internal" href="#maximum-retries">Maximum retries</a></li>
<li><a class="reference internal" href="#technical-specifications">Technical Specifications</a><ul>
<li><a class="reference internal" href="#next-flow-content-type">Next Flow Content Type</a></li>
<li><a class="reference internal" href="#next-step-component">Next Step Component</a></li>
<li><a class="reference internal" href="#replies">Replies</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="next_steps.html"
                        title="previous chapter">Next Steps Flows</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="next_steps_entity_type.html"
                        title="next chapter">Next Steps User Entity</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/next_steps_content_type.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="next_steps_entity_type.html" title="Next Steps User Entity"
             >next</a> |</li>
        <li class="right" >
          <a href="next_steps.html" title="Next Steps Flows"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ILAO Sprint 124 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="next_steps.html" >Next Steps Flows</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Next Steps Flow Content Type</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Gwen Daniels.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.1.
    </div>
  </body>
</html>