<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Legal Server Signup &#8212; ILAO Sprint 124a documentation</title>
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../html/_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../build/html/_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css" />
    <script src="_static/jquery.js?v=1413ff29"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="_static/documentation_options.js?v=0a074f72"></script>
    <script src="_static/doctools.js?v=6afcdcd2"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Next Steps SMS Subscriptions" href="next_steps_sms_delivery.html" />
    <link rel="prev" title="Next Steps User Entity" href="next_steps_entity_type.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="legal-server-signup">
<h1>Legal Server Signup<a class="headerlink" href="#legal-server-signup" title="Link to this heading"></a></h1>
<p>The Legal Server implementation anticipates having 2 pieces:</p>
<ul class="simple">
<li><p>An iFrame from our website to subscribe the user</p></li>
<li><p>An API post to update the subscribed users data</p></li>
</ul>
<section id="iframe-form">
<h2>IFrame Form<a class="headerlink" href="#iframe-form" title="Link to this heading"></a></h2>
<img alt="_images/next_steps_signup.png" src="_images/next_steps_signup.png" />
<p>ILAO will provide an iFrame url to partners for inclusion in their instance of LegalServer. The iframe code is listed on the edit organization form for the organization in the website.</p>
<p>The form includes:</p>
<ul class="simple">
<li><p>List of LSC problem codes, to make it easier for caseworkers to filter</p></li>
<li><p>List of published NextStep Flows</p></li>
<li><p>List of available steps</p></li>
<li><p>A field to collect the client’s mobile-number</p></li>
<li><p>A field to collect tthe client’s zip code</p></li>
<li><p>Language preference of the client</p></li>
<li><p>Opt in field</p></li>
<li><p>Hidden organization ID as a query parameter</p></li>
</ul>
<p>When submitted this will create a nextStepsUserEntity within ILAO’s website and store:</p>
<ul class="simple">
<li><p>The client’s mobile number</p></li>
<li><p>The client’s zip code</p></li>
<li><p>The client’s language preference</p></li>
<li><p>The referring organization</p></li>
<li><p>The node ID of the Next Step Flow the user is subscribed to</p></li>
<li><p>The initial step the client was subscribed to.</p></li>
</ul>
<p>The website will then send the initial message on the next scheduled task run.</p>
</section>
<section id="api-post">
<h2>API Post<a class="headerlink" href="#api-post" title="Link to this heading"></a></h2>
<p>ILAO will work with partners to implement an API block that will post back to ILAO. This API call will include these parameters from Legal Server:</p>
<ul class="simple">
<li><p>The user’s mobile phone number</p></li>
<li><p>The uuid from legal server</p></li>
<li><p>The user’s zip code</p></li>
</ul>
<p>Once posted, the website will:</p>
<ul class="simple">
<li><p>Find the relevant NextStepUser entity</p></li>
<li><p>Update the NextStepsUser entity with the uuid based on the phone number where the uuid is empty</p></li>
<li><p>Query the otis_triage_user table to check for the uuid; if found will add the triage user id to the NextStepsUser entity</p></li>
</ul>
<p>The purpose of this step is to track OTIS vs non-OTIS cases and make this information available in our OTIS dashboard.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ILAO</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design_guide.html">Design &amp; Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_management.html">Custom blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="people_management.html">User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal_information.html">Browsing to legal information</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal_content_cms.html">Legal Content CMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="cms_structured_legal_content.html">Next generation content/COPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_pages_cms.html">Basic pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="testimonials_cms.html">Testimonials Content Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="webforms_cms.html">Webforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation_cms.html">Translation Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="calendar_cms.html">Calendar</a></li>
<li class="toctree-l1"><a class="reference internal" href="jobs_cms.html">Job Listings</a></li>
<li class="toctree-l1"><a class="reference internal" href="discussion_groups.html">Discussion groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="otis_cms.html">Get Legal Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="site_search.html">Site Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="site_faqs.html">Site FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_cms_features.html">Other Website Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="taxonomies.html">Taxonomies</a></li>
<li class="toctree-l1"><a class="reference internal" href="rss_feeds.html">RSS Feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="ilao_api.html">ILAO’s API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="next_steps.html">Next Steps Flows</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="next_steps_content_type.html">Next Steps Flow Content Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="next_steps_entity_type.html">Next Steps User Entity</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Legal Server Signup</a></li>
<li class="toctree-l2"><a class="reference internal" href="next_steps_sms_delivery.html">Next Steps SMS Subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="next_steps_tracking.html">Next Steps Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="next_steps.html#how-this-differs-from-the-toolbox-ticker-system">How this differs from the Toolbox ticker system</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sms_overview.html">SMS Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_analytics.html">Data and Analytics</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">See also:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="creating_docs_in_github.html">Creating new docs in Github</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="next_steps.html">Next Steps Flows</a><ul>
      <li>Previous: <a href="next_steps_entity_type.html" title="previous chapter">Next Steps User Entity</a></li>
      <li>Next: <a href="next_steps_sms_delivery.html" title="next chapter">Next Steps SMS Subscriptions</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Illinois Legal Aid Online.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/next_steps_signup_form.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>