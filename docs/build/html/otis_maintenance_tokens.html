
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5. Twilio token updates &#8212; ILAO Sprint 124 documentation</title>
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../html/_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../build/html/_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="6. SMS etransfer failures" href="otis_maintenance_failures.html" />
    <link rel="prev" title="4. Updating Twilio for new legal issue" href="otis_maintenance_twilio.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="otis_maintenance_failures.html" title="6. SMS etransfer failures"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="otis_maintenance_twilio.html" title="4. Updating Twilio for new legal issue"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ILAO Sprint 124 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="otis_cms.html" >Get Legal Help</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="otis_sms_intake.html" >Online Intake Over SMS</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="otis_maintenance.html" accesskey="U">Maintaining and expanding OTIS SMS</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5. </span>Twilio token updates</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="twilio-token-updates">
<h1><span class="section-number">5. </span>Twilio token updates<a class="headerlink" href="#twilio-token-updates" title="Permalink to this headline">Â¶</a></h1>
<p>All of our Twilio to IllinoisLegalAid.org calls require the use of Bearer tokens. These are acquired at the start of our OTIS and eviction bot flows and passed into the functions as needed.</p>
<p>Each flow should use the widget flow below to get and set the tokens:</p>
<ul class="simple">
<li><p>Get standard token requires a call to the <a class="reference external" href="https://ilao-8092.twil.io/oauth-get-token">https://ilao-8092.twil.io/oauth-get-token</a> function. This will return a body containing the bearer token.</p></li>
<li><p>To get a nonstandard token, make a call to the <a class="reference external" href="https://ilao-8092.twil.io/oauth-get-custom-token">https://ilao-8092.twil.io/oauth-get-custom-token</a></p></li>
<li><p>Set the tokens in a set variables function to set them in flow.variables</p></li>
<li><p>Reference them in function calls with a name of token. For example, to use the standard token (stored as std_token in variables) in the update_triage_user function, pass a parameter named token with a value of {{flow.variables.std_token}}.  the function can then access it as event.token.</p></li>
</ul>
<p>(Previously, these had been added manually to each function)</p>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="otis_maintenance_twilio.html"
                        title="previous chapter"><span class="section-number">4. </span>Updating Twilio for new legal issue</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="otis_maintenance_failures.html"
                        title="next chapter"><span class="section-number">6. </span>SMS etransfer failures</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/otis_maintenance_tokens.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="otis_maintenance_failures.html" title="6. SMS etransfer failures"
             >next</a> |</li>
        <li class="right" >
          <a href="otis_maintenance_twilio.html" title="4. Updating Twilio for new legal issue"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ILAO Sprint 124 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="otis_cms.html" >Get Legal Help</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="otis_sms_intake.html" >Online Intake Over SMS</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="otis_maintenance.html" >Maintaining and expanding OTIS SMS</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5. </span>Twilio token updates</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Gwen Daniels.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.1.
    </div>
  </body>
</html>